<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>linklist</title>
    </head>
    <body>
        <script>
            function LNode(data, node){
                this.data = data;
                this.next = node || null;
            }

            LNode.prototype = {
                getElem: function(i){
                    var p = this.next;
                    var j = 1;
                    while(p && j < i){
                        p = p.next;
                        ++j;
                    }
                    if(!p || j >= i){
                        return null;
                    }
                    else 
                        return p.data;
                },

                listInsert: function(i, data){
                    var j = 0;
                    var p = this;
                    while(p && j < i){
                        p = p.next;
                        ++j;
                    }
                    if(!p || j >= i) return false;
                    p.next = new LNode(data, p.next);
                    return true;
                },

                listDelete: function(i){
                    var j = 0;
                    var p = this;
                    while(p.next && j < i - 1){
                        p = p.next;
                        ++j;
                    }
                    if(!p.next || j >= i) return false;
                    var q = p.next;
                    p.next = q.next;
                    return q.data;
                }
            };

            void function test(){
                var a1 = new LNode(1);
                a1.listInsert(1, 2);
                a1.listInsert(2, 3);
                a1.listInsert(1, 4);
                console.log(a1.getElem(1));
                alert(a1.getElem(1));
                console.log(a1);
                alert(a1.getElem(2));
                a1.listDelete(1);
                console.log(a1);
            }();
        </script>
    </body>
</html>